"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[627],{8627:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var l=t(5155),s=t(2115),n=t(4176),r=t(9829),o=t(4520),d=t(9433),i=t(1978);function c(e){let{...a}=e;return(0,l.jsx)(o.bL,{"data-slot":"alert-dialog",...a})}function u(e){let{...a}=e;return(0,l.jsx)(o.l9,{"data-slot":"alert-dialog-trigger",...a})}function m(e){let{...a}=e;return(0,l.jsx)(o.ZL,{"data-slot":"alert-dialog-portal",...a})}function x(e){let{className:a,...t}=e;return(0,l.jsx)(o.hJ,{"data-slot":"alert-dialog-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function f(e){let{className:a,...t}=e;return(0,l.jsxs)(m,{children:[(0,l.jsx)(x,{}),(0,l.jsx)(o.UC,{"data-slot":"alert-dialog-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t})]})}function g(e){let{className:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,d.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function p(e){let{className:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,d.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function j(e){let{className:a,...t}=e;return(0,l.jsx)(o.hE,{"data-slot":"alert-dialog-title",className:(0,d.cn)("text-lg font-semibold",a),...t})}function h(e){let{className:a,...t}=e;return(0,l.jsx)(o.VY,{"data-slot":"alert-dialog-description",className:(0,d.cn)("text-muted-foreground text-sm",a),...t})}function b(e){let{className:a,...t}=e;return(0,l.jsx)(o.rc,{className:(0,d.cn)((0,i.r)(),a),...t})}function N(e){let{className:a,...t}=e;return(0,l.jsx)(o.ZD,{className:(0,d.cn)((0,i.r)({variant:"outline"}),a),...t})}var w=t(968);function v(e){let{className:a,...t}=e;return(0,l.jsx)(w.b,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...t})}var y=t(350),k=t(5594);let z=k.z.object({email:k.z.string().email("Введите корректный адрес электронной почты").min(1,"Email обязателен"),password:k.z.string().min(4,"Пароль должен быть минимум из 6 символов").min(1,"Пароль обязателен")});function C(){let{setUser:e}=(0,r.J)(),[a,t]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[m,x]=(0,s.useState)(null),w=async t=>{t.preventDefault(),x(null);try{z.parse({email:a,password:o});let t=await (0,n.Lx)(a,o);t?e(t):x("Ошибка входа. Проверьте логин и пароль.")}catch(e){e instanceof k.z.ZodError?x(e.errors.map(e=>e.message).join(", ")):x("Ошибка сервера. Попробуйте позже."),console.error("Ошибка при входе:",e)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c,{children:[(0,l.jsx)(u,{asChild:!0,children:(0,l.jsx)(i.$,{className:"primary1 rounded ml-2",children:"Войти в аккаунт"})}),(0,l.jsxs)(f,{children:[(0,l.jsxs)(g,{children:[(0,l.jsx)(j,{children:"Вход"}),m&&(0,l.jsx)("p",{className:"text-red-500",children:m}),(0,l.jsxs)(h,{className:"flex flex-col gap-3 my-2",children:[(0,l.jsx)(v,{htmlFor:"email",children:"Электронная почта:"}),(0,l.jsx)(y.p,{type:"email",name:"email",id:"email",placeholder:"welcome@lingofilms.ru",required:!0,onChange:e=>t(e.target.value),className:"bg-black"}),(0,l.jsx)(v,{htmlFor:"password",children:"Пароль:"}),(0,l.jsx)(y.p,{type:"password",name:"password",id:"password",placeholder:"lingo_secret",required:!0,onChange:e=>d(e.target.value),className:"bg-black"})]})]}),(0,l.jsxs)(p,{children:[(0,l.jsx)(N,{children:"Отмена"}),(0,l.jsx)(b,{onClick:w,children:"Продолжить"})]})]})]})})}}}]);